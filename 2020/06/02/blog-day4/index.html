<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>博文格式化&amp;Hexo主题高级自定义 | Happy Hack Everday</title><meta name="keywords" content="hexo"><meta name="author" content="Holder"><meta name="copyright" content="Holder"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="description" content="有一段时间没怎么倒腾博客了，这几天收拾了一下博客，同时将最近阅读和记录的有趣的内容整理一番，分享给大家。主要包括在博客 写作时遇到的一些问题及解决方法，即我是如何构建自己的博客写作工作流的。同时也有一些在博文写作的中一些感悟。 hexo 及 Butterfly 主题升级首先，最近升级了 hexo 版本，升级到最新版本3.1.0，同时也更新了主题的版本。当然，升级完就出现问题🤪，定位错误是之前复制"><meta property="og:type" content="article"><meta property="og:title" content="博文格式化&amp;Hexo主题高级自定义"><meta property="og:url" content="https://blog.happyhack.io/2020/06/02/blog-day4/index.html"><meta property="og:site_name" content="Happy Hack Everday"><meta property="og:description" content="有一段时间没怎么倒腾博客了，这几天收拾了一下博客，同时将最近阅读和记录的有趣的内容整理一番，分享给大家。主要包括在博客 写作时遇到的一些问题及解决方法，即我是如何构建自己的博客写作工作流的。同时也有一些在博文写作的中一些感悟。 hexo 及 Butterfly 主题升级首先，最近升级了 hexo 版本，升级到最新版本3.1.0，同时也更新了主题的版本。当然，升级完就出现问题🤪，定位错误是之前复制"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/donggangcj/CDN/image/blog-day4/2020-06-01-16-11-42.png"><meta property="article:published_time" content="2020-06-02T07:45:00.000Z"><meta property="article:modified_time" content="2024-06-20T02:29:28.065Z"><meta property="article:author" content="Holder"><meta property="article:tag" content="hexo"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/donggangcj/CDN/image/blog-day4/2020-06-01-16-11-42.png"><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/donggangcj/CDN/image/faicon.png"><link rel="canonical" href="https://blog.happyhack.io/2020/06/02/blog-day4/"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@500&amp;display=swap"><script>var GLOBAL_CONFIG = { 
  root: '/',
  hexoversion: '5.4.2',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  ClickShowText: {"text":"富強,民主,文明,和諧,自由,平等,公正,法治,愛國,敬業,誠信,友善","fontSize":"15px"},
  lightbox: 'mediumZoom',
  Snackbar: undefined,
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
  },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}</script><script id="config_change">var GLOBAL_CONFIG_SITE={isPost:!0,isHome:!1,isHighlightShrink:!1,isSidebar:!0,postUpdate:"2024-06-20 08:29:28"}</script><noscript><style type="text/css">#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(function () {
  window.activateDarkMode = function () {
    document.documentElement.setAttribute('data-theme', 'dark')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
    }
  }
  window.activateLightMode = function () {
    document.documentElement.setAttribute('data-theme', 'light')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
    }
  }

  const autoChangeMode = '1'
  const t = saveToLocal.get('theme')
  if (autoChangeMode === '1') {
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
    const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
    const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

    if (t === undefined) {
      if (isLightMode) activateLightMode()
      else if (isDarkMode) activateDarkMode()
      else if (isNotSpecified || hasNoSupport) {
        const now = new Date()
        const hour = now.getHours()
        const isNight = hour <= 6 || hour >= 18
        isNight ? activateDarkMode() : activateLightMode()
      }
      window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
        if (saveToLocal.get('theme') === undefined) {
          e.matches ? activateDarkMode() : activateLightMode()
        }
      })
    } else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else if (autoChangeMode === '2') {
    const now = new Date()
    const hour = now.getHours()
    const isNight = hour <= 6 || hour >= 18
    if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
    else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else {
    if (t === 'dark') activateDarkMode()
    else if (t === 'light') activateLightMode()
  }
})()</script><meta name="generator" content="Hexo 5.4.2"><link rel="alternate" href="/atom.xml" title="Happy Hack Everday" type="application/atom+xml"></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><picture><source srcset="https://cdn.jsdelivr.net/gh/donggangcj/CDN/image/logo.webp" type="image/webp"><img class="avatar-img" data-lazy-src="https://cdn.jsdelivr.net/gh/donggangcj/CDN/image/logo.png" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></picture></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">31</div></a></div></div><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">36</div></a></div></div><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">7</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i> <span>友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i> <span>关于</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-list"></i> <span>资源</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i> <span>音乐</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i> <span>电影</span></a></li></ul></div></div></div></div><div id="body-wrap"><div id="sidebar"><i class="fas fa-arrow-right on" id="toggle-sidebar"></i><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#hexo-%E5%8F%8A-Butterfly-%E4%B8%BB%E9%A2%98%E5%8D%87%E7%BA%A7"><span class="toc-number">1.</span> <span class="toc-text">hexo 及 Butterfly 主题升级</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%BE%E7%89%87%E7%AE%A1%E7%90%86"><span class="toc-number">2.</span> <span class="toc-text">图片管理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Markdown-%E5%8D%8F%E8%AE%AE-%E3%80%81%E6%B8%B2%E6%9F%93%E5%BC%95%E6%93%8E%E5%92%8C%E6%A0%BC%E5%BC%8F%E5%8C%96"><span class="toc-number">3.</span> <span class="toc-text">Markdown 协议 、渲染引擎和格式化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%9A%E6%96%87%E4%BB%A3%E7%A0%81%E5%9D%97"><span class="toc-number">4.</span> <span class="toc-text">博文代码块</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BB%E9%A2%98%E9%AB%98%E7%BA%A7%E9%85%8D%E7%BD%AE-%E5%AF%BC%E5%85%A5%E5%AD%97%E4%BD%93"><span class="toc-number">5.</span> <span class="toc-text">主题高级配置-导入字体</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%87%8D%E6%8B%BE%E5%AF%B9%E6%96%87%E5%AD%97%E7%9A%84%E6%95%AC%E7%95%8F%E4%B9%8B%E5%BF%83"><span class="toc-number">6.</span> <span class="toc-text">重拾对文字的敬畏之心</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E5%8F%A5%E8%AF%9D"><span class="toc-number">7.</span> <span class="toc-text">一句话</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83"><span class="toc-number">8.</span> <span class="toc-text">参考</span></a></li></ol></div></div></div><header class="post-bg" id="page-header" style="background-image:url(https://cdn.jsdelivr.net/gh/donggangcj/CDN/image/blog-day4/2020-06-01-16-11-42.png)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Happy Hack Everday</a></span><span id="menus"><div id="search_button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i> <span>搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i> <span>友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i> <span>关于</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-list"></i> <span>资源</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i> <span>音乐</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i> <span>电影</span></a></li></ul></div></div><span class="close" id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><div id="post-title"><div class="posttitle">博文格式化&amp;Hexo主题高级自定义</div></div><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-06-02T07:45:00.000Z" title="发表于 2020-06-02 13:45:00">2020-06-02</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-06-20T02:29:28.065Z" title="更新于 2024-06-20 08:29:28">2024-06-20</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%8D%9A%E5%AE%A2/">博客</a></span></div><div class="meta-secondline"> <span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><p>有一段时间没怎么倒腾博客了，这几天收拾了一下博客，同时将最近阅读和记录的有趣的内容整理一番，分享给大家。主要包括在博客 写作时遇到的一些问题及解决方法，即我是如何构建自己的博客写作工作流的。同时也有一些在博文写作的中一些感悟。</p><h2 id="hexo-及-Butterfly-主题升级"><a href="#hexo-及-Butterfly-主题升级" class="headerlink" title="hexo 及 Butterfly 主题升级"></a>hexo 及 Butterfly 主题升级</h2><p>首先，最近升级了 hexo 版本，升级到最新版本<code>3.1.0</code>，同时也更新了主题的版本。当然，升级完就出现问题🤪，定位错误是之前复制 的自定义配置文件<code>butterfly.yml</code>缺少一些必要的变量，同时该文件结构也发生了变化，导致没办法渲染成功。暗暗窃喜还好做了 版本管理，直接 merge，但是由于结构改动变化太大，merge过程很不轻松，最终还是手动将之前的配置迁移到新的自定义配置文件, 才解决问题。</p><p>这提醒我们<code>版本管理</code>并不能解决任何问题，只是当<code>灾难</code>降临，提供给我们多一种选择。作为软件的用户，升级前需要做好规划， 特别是很长时间没有更新的情况下。而作为主题开发者，需要提供给用户良好的平滑升级功能，当然有时这需要耗费很大经历。 使用开源项目，有时是需要代价和精力去维护的，而这又体现收费软件的价值所在。</p><h2 id="图片管理"><a href="#图片管理" class="headerlink" title="图片管理"></a>图片管理</h2><p><code>Hexo</code>搭建博客，其中图片的引用和管理是一件令人非常头痛的事。究其根本是<code>Markdown写作</code>方式导致的。在不涉及图片时，<code>markdown</code> 的轻松写作十分方便，但是当一篇<code>.md</code>格式的博文包含了图片引用，情况就不一样了。而博客图片引用分为本地和远程两种方式， 这两种方式都一些不足：</p><ul><li>引用本地文件：一旦需要导出，要么打包整个目录，所有图片引用相对路径，要么只能借助其他格式(pdf)实现。和word 文档 相比，易用性很差，同时当需要将本地的写作发布到<code>wiki</code>上，其发布过程也十分繁琐，这些理应被自动化的体力活动却没有 ，当然会导致<code>markdown</code>在使用感受上有很大缺陷。</li><li>引用远程链接：一般通过图床实现，这种方式在写作之前需要将图片整理并发布到对应存储服务上，写作时通过工具生成 下载链接，这种缺点是插入图片过程很难实现<code>Copy-And-Paste</code>，同时博文这个资源需要分为图片和内容两个资源管理，增加了 复杂度。</li></ul><p>我的博文写作是通过第二种方式引入图片，这种方式优点是可以减少博客静态资源，同时通过<code>CDN</code>可以提高网站访问加速, 配合<code>vscode paste-image</code>插件和自己开发的<code>hexo-image-sync</code>的工具，能够实现<code>Copy-And-Paste</code>流程。但是对于其他工作流， 如工作上<code>wiki文档</code>维护,工作日报通过<code>Markdown</code>编写等，目前没有探索出很好方案。</p><p>在理想的将来，希望能<code>Markdown写作</code>够做到博文和图片资源的统一处理。</p><p><picture><source srcset="https://cdn.jsdelivr.net/gh/donggangcj/CDN/image/blog-day3/2019-07-15-17-42-29.webp" type="image/webp"><img src="https://cdn.jsdelivr.net/gh/donggangcj/CDN/image/blog-day3/2019-07-15-17-42-29.png" alt></picture></p><h2 id="Markdown-协议-、渲染引擎和格式化"><a href="#Markdown-协议-、渲染引擎和格式化" class="headerlink" title="Markdown 协议 、渲染引擎和格式化"></a>Markdown 协议 、渲染引擎和格式化</h2><p>在使用<code>Markdown</code>工具进行写作时，通常强制换行需要通过两个空格实现，但是在通过<code>Hexo</code>渲染博文时，是不需要加上两个空格的。 由于无法预知什么需要换行，博文源文件中会出现一段文字一行的情况，这十分影响写作和博客源文件阅读体验。</p><p>目前<code>Markdown</code>协议还未完全统一，主要有<code>Markdown</code>，<code>GFM</code>和<code>CommanMark</code>三种，这些协议在细节上有所区别。 hexo 其渲染<code>Markdown</code>文件是通过了插件<a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo-renderer-marked">hexo-renderer-marked</a>实现， 该插件提供一些配置项，以上关闭自动换行的功能可以在<code>hexo_config.yml</code>修改,如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">marked:</span></span><br><span class="line">  <span class="attr">gfm:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">breaks:</span> <span class="literal">false</span> <span class="comment">#Enable GFM line breaks. This option requires the gfm option to be true.</span></span><br></pre></td></tr></table></figure><p>这样，我们可以就通过空格控制是否换行。这个问题归根结底是博文<code>.md</code>文件的格式化问题，我们不希望在酷炫的UI 下，其博文源文件一团糟， 在通过<code>vscode</code>写作时，推荐安装插件<a target="_blank" rel="noopener" href="https://prettier.io/"><code>prettier</code></a>实现<code>Markdown</code>格式文件的格式化， 同时开启<code>vscode</code>的自动换行功能，参考下图配置项：<picture><source srcset="https://cdn.jsdelivr.net/gh/donggangcj/CDN/image/blog-day4/2020-06-01-20-30-21.webp" type="image/webp"><img src="https://cdn.jsdelivr.net/gh/donggangcj/CDN/image/blog-day4/2020-06-01-20-30-21.png" alt></picture></p><p>配置完，我们写博客就有了通过IDE写代码的感觉。</p><h2 id="博文代码块"><a href="#博文代码块" class="headerlink" title="博文代码块"></a>博文代码块</h2><p>技术类的文章，尤其是源码分析类，博文中需要插入大量的代码块辅助读者阅读，有时会引用一段很长代码，如果大量使用<code>Markdown Code Block</code>， 十分影响博文的页面布局，对读者不友好。<code>Github Gist</code>功能可以帮助我们更好在博文中引用并展示<code>Github</code>代码块。<picture><source srcset="https://cdn.jsdelivr.net/gh/donggangcj/CDN/image/blog-day4/2020-06-01-17-43-45.webp" type="image/webp"><img src="https://cdn.jsdelivr.net/gh/donggangcj/CDN/image/blog-day4/2020-06-01-17-43-45.png" alt></picture></p><p>我们可以从<a target="_blank" rel="noopener" href="https://gist.github.com/">网页</a>创建代码块，同时一些 IDE 开发工具集成<code>Github Gist</code>，能够从开发环境中快速创建代码块。 创建完可以拿到对应内嵌 Script 链接<code>&lt;script src=&quot;https://gist.github.com/***/snippet.js&quot;&gt;&lt;/script&gt;</code>，Markdown 是支持内联 <code>HTML</code>代码的，我们直接插入链接即可。显示效果如下：</p><script src="https://gist.github.com/taka-wang/542cb5489d97967dfcad.js"></script><p>这种显示效果很好，而且方便跳转对应源码仓库，查看上下文。除了引用代码块，在引用其他资源链接（如 twitter，medium 文章）时， 也可以优化其显示效果，比如<a target="_blank" rel="noopener" href="https://medium.com/"><code>Medium</code></a>对常用第三方链接的显示效果如下：<picture><source srcset="https://cdn.jsdelivr.net/gh/donggangcj/CDN/image/blog-day4/2020-06-01-19-58-44.webp" type="image/webp"><img src="https://cdn.jsdelivr.net/gh/donggangcj/CDN/image/blog-day4/2020-06-01-19-58-44.png" alt></picture></p><p>在<code>Hexo</code>中，通过其<code>Tag Plugins</code>功能，能够做到美化一些链接的显示，以下展示链接了一篇<code>Medium</code>文章:</p><blockquote><p>Every interaction is both precious and an opportunity to delight.</p><footer><strong>Thatcher Peskens</strong><cite><a target="_blank" rel="noopener" href="https://medium.com/@thatcher/why-choose-between-grpc-and-rest-bc0d351f2f84">medium.com/@thatcher/why-choose-between-grpc-and-rest-bc0d351f2f84</a></cite></footer></blockquote><p>更好的呈现博客内容也有代价，就是博客源文件中出现大量语法，也和其他第三方工具紧密耦合，不方便后续升级维护，我们在维护自己博客时， 就需要在这两者之间权衡代价。</p><h2 id="主题高级配置-导入字体"><a href="#主题高级配置-导入字体" class="headerlink" title="主题高级配置-导入字体"></a>主题高级配置-导入字体</h2><p>最近在浏览文章发现时一个自建博客网站的字体让我阅读起来，十分舒心，这个字体是谷歌新推出的思源宋体，就打算将自己博客的中的字体也替换成思源宋体， 查看了主题<code>Butterfly</code>的配置文件，其没有提供对该字体支持，开发者回复说导入字体需要自己实现。</p><p>对于不太熟悉前端的小伙伴这可能得需要一点时间，这里我只简单介绍一下<code>Stylus</code>以及修改的步骤，建议有一点前端知识的小伙伴了解 hexo 的模版机制，以及相关技术，主要包括<code>stylus</code>，<code>pug</code>以及 hexo 对应的插件，应该不是特别困难。</p><p>目前模板<code>Butterfly</code>使用的<code>css</code>引擎是<a target="_blank" rel="noopener" href="https://stylus-lang.com/"><code>stylus</code></a>，这个框架旨在提供 动态、健壮、表现力（EXPRESSIVE，DYNAMIC，ROBUST）的<code>css</code>开发方式。大概提供了以下功能：</p><ol><li>可以省略 css 括号，冒号符号</li><li>提供函数，简化重复代码</li><li>提供导入功能，提高可读性</li><li>提供一些内置函数</li></ol><p>简而言之，就是更优雅的编写<code>css</code>。这样我们就可以对<code>Butterfly</code>的样式做一些自定义调整啦。<code>hexo</code>提供了 <code>hexo-renderer-stylus</code>插件，我们就可以通过<code>hexo-config()</code>方法获取 yaml 文件定义的变量。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 注册hexo-config变量</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">defineConfig</span>(<span class="params">style</span>) </span>&#123;</span><br><span class="line">  style.define(<span class="string">&quot;hexo-config&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> getProperty(self.theme.config, data.val);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>如果需要通过外部变量的方式，可以通过以上方式在配置文件定义变量，目前我的做法是 check 一个自定义分支维护自己的一些更改，因为 暂时没有对外暴露的需求，直接在<code>layout/includes/header/header.pug</code>的文件引入 script，然后在修改配置文件<code>font.font_family</code> 变量，相关修改参考如下：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">diff --git a/layout/includes/head.pug b/layout/includes/head.pug</span><br><span class="line">index 92a66d5..7d78cf9 100644</span><br><span class="line"><span class="comment">--- a/layout/includes/head.pug</span></span><br><span class="line"><span class="comment">+++ b/layout/includes/head.pug</span></span><br><span class="line">@@ -95,6 +95,9 @@ include ./head/comment.pug</span><br><span class="line"> if theme.blog_title_font.font_link</span><br><span class="line">   link(rel=&#x27;stylesheet&#x27;, href=url_for(theme.blog_title_font.font_link))</span><br><span class="line"></span><br><span class="line"><span class="addition">+link(rel=&#x27;stylesheet&#x27;, href=url_for(&#x27;https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@500&amp;display=swap&#x27;))</span></span><br><span class="line"><span class="addition">+</span></span><br><span class="line"><span class="addition">+</span></span><br><span class="line"> //- global config</span><br><span class="line"> !=partial(&#x27;includes/head/config&#x27;, &#123;&#125;, &#123;cache:theme.fragment_cache&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>对于博客中使用的第三方模板和工具，我们需要深度学习，否则就无法对博客进行美化。</p><h2 id="重拾对文字的敬畏之心"><a href="#重拾对文字的敬畏之心" class="headerlink" title="重拾对文字的敬畏之心"></a>重拾对文字的敬畏之心</h2><p>最近看了两片博文，一篇是是关于信息的半衰期<sup>[1]</sup>，<strong>信息的半衰期值指一半信息变得没有价值所需要的时间</strong>,比如软件文档，如果不维护， 随着软件版本的升级，文档中很多内容会变的没有价值。博文按照内容其半衰期也有长短区分，打个比方，一篇介绍 kubernetes指定 版本安装的博文，随着 kubernetes 的升级，其内容价值会越来越低，而kubernetes的升级确实很快，这就造成这类博文的半衰期很短， 而如果一篇介绍 kubernetes apiserver 设计思想及模式的博文，其半衰期相对则更长。信息的半衰期能一定程度体现博文内容的价值。 所以在进行博文创作的过程中，我们应努力提升博文质量，提高其半衰期。</p><p>另一篇文章是&lt;&lt;重拾对文字的敬畏之心-三年个人博文的词频解析与反思&gt;&gt;<sup>[2]</sup>，作者对其博客写作做了一个词频统计分析， 结果很有意思，感兴趣的同学可以阅读原文。<picture><source srcset="https://cdn.jsdelivr.net/gh/donggangcj/CDN/image/blog-day4/2020-06-02-13-21-59.webp" type="image/webp"><img src="https://cdn.jsdelivr.net/gh/donggangcj/CDN/image/blog-day4/2020-06-02-13-21-59.png" alt></picture></p><p>在整理自己博文时，发现之前的博文读起来十分晦涩，而且有很多明显的错误，这对于读者阅读体验是灾难性的。在写作过程中不恰当的措辞， 频繁使用口语化的词汇，这些问题总是存在，如何避免这些问题呢？当然没有捷径可循， <strong>只有踏踏实实多阅读一些优秀的随笔散文，沉淀这些文章，同时多进行写作练习，注意用词，写作完成后自我检查校验。最终形成自己的写作风格。</strong> 恍然间才发现，小学到高中的语文课程和写作也是很有意义的。</p><p><picture><source srcset="https://cdn.jsdelivr.net/gh/donggangcj/CDN/image/blog-day4/2020-06-02-11-24-24.webp" type="image/webp"><img src="https://cdn.jsdelivr.net/gh/donggangcj/CDN/image/blog-day4/2020-06-02-11-24-24.png" alt></picture></p><h2 id="一句话"><a href="#一句话" class="headerlink" title="一句话"></a>一句话</h2><ol><li>将文件中的标点符号统一成中文符号，对于技术类的文章，代码和链接中包含了很多<code>.</code>，<code>,</code>，所以只能由作者保证， 没有工具满足场景。</li><li>博文中如何显示一个文件 Diff结果？之前读到过一位作者的博文，很好的展示了<code>Git diff</code>的结果，由于没有整理， 已经找不到该文章。如果后续有解决方法，会在后续有关博客的相关博文中分享。</li><li>博文在引用别人的图片或文章时，需要注意协议。</li></ol><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ol><li><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/0b7721c1a623">重拾对文字的敬畏之心-三年个人博文的词频解析与反思</a></li><li><a target="_blank" rel="noopener" href="https://github.com/ruanyf/weekly/blob/master/docs/issue-103.md">信息的半衰期</a></li></ol></div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者:</span> <span class="post-copyright-info"><a href="mailto:undefined">Holder</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接:</span> <span class="post-copyright-info"><a href="https://blog.happyhack.io/2020/06/02/blog-day4/">https://blog.happyhack.io/2020/06/02/blog-day4/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明:</span> <span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://blog.happyhack.io" target="_blank">Happy Hack Everday</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/hexo/">hexo</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/donggangcj/CDN/image/blog-day4/2020-06-01-16-11-42.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2020/06/10/go-goroutine-thread-cpu/"><picture><source srcset="https://cdn.jsdelivr.net/gh/donggangcj/CDN/image/go-goroutine-thread-cpu/2020-06-10-10-54-51.webp" type="image/webp"><img class="prev-cover" data-lazy-src="https://cdn.jsdelivr.net/gh/donggangcj/CDN/image/go-goroutine-thread-cpu/2020-06-10-10-54-51.png" onerror='onerror=null,src="/img/404.jpg"'></picture><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Go协程，OS线程和CPU管理</div></div></a></div><div class="next-post pull-right"><a href="/2020/05/28/the-clean-architecture/"><picture><source srcset="https://cdn.jsdelivr.net/gh/donggangcj/CDN/image/the-clean-architecture/2020-06-01-15-56-54.webp" type="image/webp"><img class="next-cover" data-lazy-src="https://cdn.jsdelivr.net/gh/donggangcj/CDN/image/the-clean-architecture/2020-06-01-15-56-54.png" onerror='onerror=null,src="/img/404.jpg"'></picture><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">the-clean-architecture</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i> <span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2019/07/04/blog-day1/" title="Hexo博客框架&Butterfly主题&Vscode&Paste Image插件"><picture><source srcset="https://cdn.jsdelivr.net/gh/donggangcj/CDN/image/blog-day1/hexo-gitpage.webp" type="image/webp"><img class="cover" data-lazy-src="https://cdn.jsdelivr.net/gh/donggangcj/CDN/image/blog-day1/hexo-gitpage.png"></picture><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2019-07-04</div><div class="title">Hexo博客框架&Butterfly主题&Vscode&Paste Image插件</div></div></a></div><div><a href="/2019/07/09/blog-day2/" title="Hexo博客访问优化"><picture><source srcset="https://cdn.jsdelivr.net/gh/donggangcj/CDN/image/blog-day2/2019-07-11-08-46-02.webp" type="image/webp"><img class="cover" data-lazy-src="https://cdn.jsdelivr.net/gh/donggangcj/CDN/image/blog-day2/2019-07-11-08-46-02.png"></picture><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2019-07-09</div><div class="title">Hexo博客访问优化</div></div></a></div></div></div></article></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By Holder</div><div class="framework-info"><span>框架</span> <a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题</span> <a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><section id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></section><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search" style="color:#49b1f5">hexo-generator-search</a> <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@3/instantpage.min.js" type="module" defer="defer"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script id="click-show-text" src="/js/third-party/ClickShowText.js" async="async" mobile="false"></script></div></body></html>